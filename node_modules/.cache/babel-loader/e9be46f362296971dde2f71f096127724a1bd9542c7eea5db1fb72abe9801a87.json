{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { ref, computed } from 'vue';\nimport { ElTable, ElCountdown } from 'element-plus';\nimport logoImage from '@/assets/logo.png';\nimport dayjs from 'dayjs';\nexport default {\n  name: 'PricePage',\n  components: {\n    ElTable: ElTable,\n    ElCountdown: ElCountdown\n  },\n  setup: function setup() {\n    var multipleTableRef = ref(null);\n    var multipleSelection = ref([]);\n    var tableData = [{\n      imageUrl: logoImage,\n      \"服务类型（维修/回收）\": '维修',\n      下单时间: '2016-05-03',\n      下单用户名: 'Tom',\n      物品名称: 'iphone 14',\n      约定的服务地点: 'No. 189, Grove St, Los Angeles',\n      订单金额: '1149元',\n      订单状态: '处理中'\n    }, {\n      imageUrl: logoImage,\n      \"服务类型（维修/回收）\": '维修',\n      下单时间: '2016-05-03',\n      下单用户名: 'Tom',\n      物品名称: 'iphone 14',\n      约定的服务地点: 'No. 189, Grove St, Los Angeles',\n      订单金额: '1149元',\n      订单状态: '处理中'\n    }, {\n      imageUrl: logoImage,\n      \"服务类型（维修/回收）\": '维修',\n      下单时间: '2016-05-03',\n      下单用户名: 'Tom',\n      物品名称: 'iphone 14',\n      约定的服务地点: 'No. 189, Grove St, Los Angeles',\n      订单金额: '1149元',\n      订单状态: '处理中'\n    }];\n    var toggleSelection = function toggleSelection(rows) {\n      if (rows) {\n        rows.forEach(function (row) {\n          multipleTableRef.value.toggleRowSelection(row, undefined);\n        });\n      } else {\n        multipleTableRef.value.clearSelection();\n      }\n    };\n    var handleSelectionChange = function handleSelectionChange(val) {\n      multipleSelection.value = val;\n    };\n\n    // 计算总金额\n    var totalAmount = computed(function () {\n      return multipleSelection.value.reduce(function (sum, item) {\n        var price = parseFloat(item['订单金额']);\n        return sum + price;\n      }, 0);\n    });\n    var value = ref(Date.now() + 1000 * 60 * 60 * 7);\n    var value1 = ref(Date.now() + 1000 * 60 * 60 * 24 * 2);\n    var value2 = ref(dayjs().add(1, 'month').startOf('month'));\n    function reset() {\n      value1.value = Date.now() + 1000 * 60 * 60 * 24 * 2;\n    }\n    return {\n      multipleTableRef: multipleTableRef,\n      multipleSelection: multipleSelection,\n      tableData: tableData,\n      totalAmount: totalAmount,\n      toggleSelection: toggleSelection,\n      handleSelectionChange: handleSelectionChange,\n      value: value,\n      value1: value1,\n      value2: value2,\n      reset: reset\n    };\n  },\n  methods: {\n    handleAppointment: function handleAppointment() {\n      console.log('点击了');\n      this.$router.push({\n        name: 'paypage'\n      });\n    }\n  }\n};","map":{"version":3,"names":["ref","computed","ElTable","ElCountdown","logoImage","dayjs","name","components","setup","multipleTableRef","multipleSelection","tableData","imageUrl","下单时间","下单用户名","物品名称","约定的服务地点","订单金额","订单状态","toggleSelection","rows","forEach","row","value","toggleRowSelection","undefined","clearSelection","handleSelectionChange","val","totalAmount","reduce","sum","item","price","parseFloat","Date","now","value1","value2","add","startOf","reset","methods","handleAppointment","console","log","$router","push"],"sources":["C:\\Users\\56806\\Desktop\\DBDesign\\src\\components\\pricepage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--最上方的步骤记录条-->\r\n    <el-steps class=\"center-steps\" :space=\"300\" :active=\"1\" finish-status=\"success\">\r\n      <el-step title=\"填写订单信息\" />\r\n      <el-step title=\"确认预约服务\" />\r\n      <el-step title=\"支付订单金额\" />\r\n    </el-steps>\r\n\r\n    <el-table :ref=\"multipleTableRef\" :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\" />\r\n      <el-table-column label=\"图片信息\" width=\"180\">\r\n        <template #default=\"{ row }\">\r\n          <img :src=\"row.imageUrl\" alt=\"图片\" style=\"width: 100px; height: 100px;\" />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column property=\"服务类型（维修/回收）\" label=\"服务类型（维修/回收）\" width=\"180\" />\r\n      <el-table-column property=\"下单时间\" label=\"下单时间\" width=\"180\"></el-table-column>\r\n      <el-table-column property=\"下单用户名\" label=\"下单用户名\" width=\"120\"></el-table-column>\r\n      <el-table-column property=\"物品名称\" label=\"物品名称\" width=\"120\"></el-table-column>\r\n      <el-table-column property=\"约定的服务地点\" label=\"约定的服务地点\" width=\"300\"></el-table-column>\r\n      <el-table-column property=\"订单金额\" label=\"订单金额\" width=\"150\"></el-table-column>\r\n      <el-table-column property=\"订单状态\" label=\"订单状态\" width=\"100\"></el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"spacer\"></div> \r\n    <el-row>\r\n  <el-col :span=\"8\">\r\n    <el-countdown title=\"自动关闭界面剩余时间\" :value=\"value\" style=\"font-size: 20px;\" />\r\n  </el-col>\r\n  <el-col :span=\"8\">\r\n    <el-countdown\r\n      title=\"支付剩余时间\"\r\n      format=\"HH:mm:ss\"\r\n      :value=\"value1\"\r\n    />\r\n  </el-col>\r\n</el-row>\r\n\r\n  </div>\r\n\r\n  <div class=\"total-amount\">\r\n      <span class=\"amount-label\">总金额：</span>\r\n      <span class=\"amount-value\">{{ totalAmount }}元</span>\r\n      <el-button type=\"primary\" @click=\"handleAppointment\">支付</el-button>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue'\r\nimport { ElTable, ElCountdown } from 'element-plus'\r\nimport logoImage from '@/assets/logo.png'\r\nimport dayjs from 'dayjs'\r\n\r\n\r\nexport default {\r\n  name: 'PricePage',\r\n  components: {\r\n    ElTable,\r\n    ElCountdown,\r\n    \r\n  },\r\n  setup() {\r\n    const multipleTableRef = ref(null)\r\n    const multipleSelection = ref([])\r\n    const tableData = [\r\n      {\r\n        imageUrl: logoImage,\r\n        \"服务类型（维修/回收）\": '维修',\r\n        下单时间: '2016-05-03',\r\n        下单用户名: 'Tom',\r\n        物品名称: 'iphone 14',\r\n        约定的服务地点: 'No. 189, Grove St, Los Angeles',\r\n        订单金额: '1149元',\r\n        订单状态: '处理中',\r\n      },\r\n      {\r\n        imageUrl: logoImage,\r\n        \"服务类型（维修/回收）\": '维修',\r\n        下单时间: '2016-05-03',\r\n        下单用户名: 'Tom',\r\n        物品名称: 'iphone 14',\r\n        约定的服务地点: 'No. 189, Grove St, Los Angeles',\r\n        订单金额: '1149元',\r\n        订单状态: '处理中',\r\n      },\r\n      {\r\n        imageUrl: logoImage,\r\n        \"服务类型（维修/回收）\": '维修',\r\n        下单时间: '2016-05-03',\r\n        下单用户名: 'Tom',\r\n        物品名称: 'iphone 14',\r\n        约定的服务地点: 'No. 189, Grove St, Los Angeles',\r\n        订单金额: '1149元',\r\n        订单状态: '处理中',\r\n      },\r\n    ]\r\n\r\n    const toggleSelection = (rows) => {\r\n      if (rows) {\r\n        rows.forEach((row) => {\r\n          multipleTableRef.value.toggleRowSelection(row, undefined)\r\n        })\r\n      } else {\r\n        multipleTableRef.value.clearSelection()\r\n      }\r\n    }\r\n\r\n    const handleSelectionChange = (val) => {\r\n      multipleSelection.value = val\r\n    }\r\n\r\n\r\n    // 计算总金额\r\n    const totalAmount = computed(() => {\r\n      return multipleSelection.value.reduce((sum, item) => {\r\n        const price = parseFloat(item['订单金额'])\r\n        return sum + price\r\n      }, 0)\r\n    })\r\n\r\n    const value = ref(Date.now() + 1000 * 60 * 60 * 7)\r\n    const value1 = ref(Date.now() + 1000 * 60 * 60 * 24 * 2)\r\n    const value2 = ref(dayjs().add(1, 'month').startOf('month'))\r\n\r\n    function reset() {\r\n      value1.value = Date.now() + 1000 * 60 * 60 * 24 * 2\r\n    }\r\n\r\n    return {\r\n      multipleTableRef,\r\n      multipleSelection,\r\n      tableData,\r\n      totalAmount,\r\n      toggleSelection,\r\n      handleSelectionChange,\r\n      value,\r\n      value1,\r\n      value2,\r\n      reset,\r\n    }\r\n  },\r\n  methods: {\r\n    handleAppointment() {\r\n      console.log('点击了')\r\n      this.$router.push({ name: 'paypage' })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.spacer {\r\n  height: 100px; /* 调整为所需的空白高度 */\r\n}\r\n.center-steps {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.el-col {\r\n  text-align: center;\r\n}\r\n\r\n.h1 {\r\n  margin-top: 20px;\r\n}\r\n\r\n.el-table__header-wrapper {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.el-table__footer-wrapper {\r\n  margin-top: 10px;\r\n}\r\n\r\n.total-amount {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  margin-bottom: 0px;\r\n  margin-right: 20px;\r\n  }\r\n  .amount-label {\r\n    margin-right: 20px;\r\n    font-size: larger;\r\n  }\r\n\r\n  .amount-value {\r\n    font-weight: bold;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .countdown-footer {\r\n    margin-top: 8px;\r\n  }\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}